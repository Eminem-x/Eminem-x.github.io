---
title: 蓄水
categories:
- 算法
- 贪心
tags:
- 算法
mathjax: true
---

### 蓄水（ 贪心 ）

<!--more-->

> >给定 N 个无限容量且初始均空的水缸，每个水缸配有一个水桶用来打水，
> >
> >第 i 个水缸配备的水桶容量记作 bucket[i]。
> >
> >有以下两种操作：
> >
> >升级水桶：选择任意一个水桶，使其容量增加为 bucket[i]+1
> >蓄水：将全部水桶接满水，倒入各自对应的水缸
> >每个水缸对应最低蓄水量记作 vat[i]，返回至少需要多少次操作可以完成所有水缸蓄水要求。
> >
> >注意：实际蓄水量 达到或超过 最低蓄水量，即完成蓄水要求。
> >
> >```html
> >输入：bucket = [1,3], vat = [6,8]
> >输出：4
> >解释：
> >第 1 次操作升级 bucket[0]；
> >第 2 ~ 4 次操作均选择蓄水，即可完成蓄水要求。
> >```
> >题目详情参考：[LCP 33. 蓄水 - 力扣（LeetCode） (leetcode-cn.com)](https://leetcode-cn.com/problems/o8SXZn/)

思路：**如果要升级水桶容量，那么就尽早升级，这一定是次数最少的情况。**

1. 题目数据规模不大，枚举出尽可能大的情况，得到最优解；
2. <strong>（升级次数 + 初始蓄水量）× 倒水次数 = 容量</strong>；
3. **总次数 = 倒水次数 + 总升级次数**；

代码如下：

```java
class Solution {
    public int storeWater(int[] bucket, int[] vat) {
        int ans = 10001;
        // 枚举倒水次数1-10000
        for (int pour = 0; pour <= 10000; pour++) { 
            if (pour >= ans) {
                break;
            } 
            int upgrade = 0;
            // 枚举每个水桶，计算总升级次数
            for (int i = 0; i < vat.length; i++) {
                // 贪心 先升级必定减少次数
                // （升级次数 + 初始蓄水量）* 倒水次数 = 容量
                int cur = (int)Math.ceil((double)vat[i] / pour - bucket[i]); 
                upgrade += cur > 0 ? cur : 0;
                if (upgrade >= ans) {
                    break;
                }
            }
            // 总次数 = 倒水次数 + 总升级次数
            ans = Math.min(ans, upgrade + pour); 
        }
        return ans;
    }
}
```

$$
\begin{align}
&时间复杂度:O(10^4×n)
&空间复杂度:O(1)
\end{align}
$$



