---
title: 单词拆分
categories:
- 算法
- 动态规划
tags:
- 算法
mathjax: true
---

### 单词拆分（ 动态规划 ）

<!--more-->

> 给你一个字符串 s 和一个字符串列表 wordDict 作为字典，
>
> 判定 s 是否可以由空格拆分为一个或多个在字典中出现的单词。
>
> 说明：拆分时可以重复使用字典中的单词。
>
> ```html
> 输入: s = "leetcode", wordDict = ["leet", "code"]
> 输出: true
> ```
>
> 题目详情参考：[139. 单词拆分 - 力扣（LeetCode） (leetcode-cn.com)](https://leetcode-cn.com/problems/word-break/)

### 解法一：模拟遍历（错误）

思路：

1. 将字典中的单词放入哈希表中，创建变量记录当前字符串；
2. 遍历字符串，当哈希表中含有此单词，那么清空当前字符串，否则继续；
3. 在遍历过程中，变量 `ans` ，记录当前的真值。

代码如下：

```java
class Solution {
    public boolean wordBreak(String s, List<String> wordDict) {
        Set<String> set = new HashSet<>();
        for(String word : wordDict) {
            set.add(word);
        }
        int index = 0;
        boolean ans = true;
        StringBuilder sb = new StringBuilder();                 
        while(index <= s.length()) {
            if(set.contains(sb.toString())) {
                sb.delete(0, sb.length());
                ans = true;
            } else {
                ans = false;
            }
            if(index < s.length()) {
                sb.append(s.charAt(index));
            }
            index++;
        }
        return ans;
    }
}
```

**错误原因：**

```html
输入: s = "aaaaaaa", wordDict = ["aaa", "aaaa"]
输出: true
```

对于上述用例时，就会出错，因为会先处理 `aaa` 的情况，导致结果出错。

----

### 解法二：动态规划

思路：如果当前字符串能够被拆分，一定存在空格位置，使其分割。

1. 创建数组 `dp` ，`dp[i]` 表示以 `i` 下标结尾的子串是否在字典中含有；
2. 依然用哈希表存储字典中的单词，以便快速查询；
3. 那么对于 `dp[i]` 而言，如果其能够被拆分，那么不妨设被拆分的点为 `j` ：

$$
dp[i] = dp[j]\  \\& \\& \ check(s[j，i-1])
$$

代码如下：

```java
public class Solution {
    public boolean wordBreak(String s, List<String> wordDict) {
        Set<String> wordDictSet = new HashSet(wordDict);
        boolean[] dp = new boolean[s.length() + 1];
        dp[0] = true;
        for(int i = 0; i <= s.length(); i++) {
            for(int j = 0; j <= i; j++) {
                if(dp[j] && wordDictSet.contains(s.substring(j, i))) {
                    dp[i] = true;
                    break;
                }
            }
        }
        return dp[s.length()];
    }
}
```

$$
\begin{align}
&时间复杂度:O(n^2)
&空间复杂度:O(n)
\end{align}
$$

