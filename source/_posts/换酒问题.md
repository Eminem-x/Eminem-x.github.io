---
title: 换酒问题
categories:
- 算法
- 数学
tags:
- 算法
mathjax: true
---

### 换酒问题（ 数学 ）

<!--more-->

> 小区便利店正在促销，用 numExchange 个空酒瓶可以兑换一瓶新酒。
>
> 你购入了 numBottles 瓶酒，如果喝掉了酒瓶中的酒，那么酒瓶就会变成空的。
>
> 请你计算 最多 能喝到多少瓶酒。
>
> ```html
> 输入：numBottles = 9, numExchange = 3
> 输出：13
> ```
>
> 题目详情参考：[1518. 换酒问题 - 力扣（LeetCode） (leetcode-cn.com)](https://leetcode-cn.com/problems/water-bottles/)

思路：经典的数学问题，用迭代解决。

1. 额外定义变量 `emptyBottles` ，表示在喝完一次后，所剩的空酒瓶数量；
2. 判断结束的条件是：手中的空酒瓶和酒瓶的总数量不小于 `numExchange` ；
3. 因为最开始手中有酒，所以采用 `do{} while()` 结构。

代码如下:

```java
class Solution {
    public int numWaterBottles(int numBottles, int numExchange) {
        int ans = 0;
        int emptyBottles = 0;
        do {
            ans += numBottles;
            emptyBottles += numBottles;
            numBottles = emptyBottles / numExchange;
            emptyBottles -= numBottles * numExchange;
        } while(emptyBottles + numBottles >= numExchange);
        return ans + numBottles;
    }
}
```

$$
\begin{align}
&时间复杂度:O(n)
&空间复杂度:O(1)
\end{align}
$$

