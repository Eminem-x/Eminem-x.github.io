---
title: 格雷编码
categories: 
- 算法
- 数学
tags:
- 算法
mathjax: true
---

### **格雷编码（ 数学 ）**

<!--more-->

> >格雷编码是一个二进制数字系统，在该系统中，两个连续的数值仅有一个位数的差异。
> >
> >给定一个代表编码总位数的非负整数 *n*，打印其格雷编码序列。
> >
> >即使有多个不同答案，你也只需要返回其中一种。
> >
> >格雷编码序列必须以 0 开头。
> >
> >题目详情参考：[89. 格雷编码 - 力扣（LeetCode） (leetcode-cn.com)](https://leetcode-cn.com/problems/gray-code/submissions/)

### 解法一：对称生成

*题目解释：*

给定编码总位数为 n 的格雷编码序列，其长度为 2<sup>n</sup>。当 n = 0 时，长度为 2<sup>0</sup> = 1。

 因此，当 n = 0 时，其格雷编码序列为 [0]。

***举例说明：***

n = 0 时，0

n = 1 时，0	1

n = 2 时，00	01	11	10

n = 3 时，000	001	011	010	110	111	101	100

与此同时，格雷编码对应的十进制数字为：

n = 0 时， 0

n = 1 时， 0	1

n = 2 时， 0	1	3	2

n = 3 时， 0	1	3	2	6	7	5	4

***那么我们可以看出格雷编码存在规律如下：***

不妨设在当前 n 值下，格雷编码为 *G(n)*，那么当 n - 1时，格雷编码为*G(n - 1)* ;

* 在 <em>G(n-1)</em> 前每个元素加上 0 
* 镜像获得 <em>G<sup>'</sup>(n-1)</em>，即将 <em>G(n-1)</em> 逆序存储，在 <em>G<sup>'</sup>(n-1)</em> 前每个元素加上 1

综上可得：*G(n) = 0+G(n-1) ∪ G<sup>'</sup>(n-1)+1*

***那么对应的十进制值不为 + 1，而应当是 + 2<sup> n-1</sup>***

具体代码如下：

```java
class Solution {
    public List<Integer> grayCode(int n) {
        List<Integer> ans = new ArrayList<>();
        ans.add(0);
        for (int i = 0; i < n; i++) {
            int length = ans.size();
            for (int j = length - 1; j >= 0; j--) {
                ans.add(length + ans.get(j));
            }
        }
        return ans;
    }
}
```

$$
\begin{align}
&时间复杂度:O(2^n)
&空间复杂度:O(1)
\end{align}
$$

**注意事项：**

如果将 `ArrayList` 改为 `LinkedList`，时间复杂度会提高很多，

因为需要遍历表得到对应下标的元素，相比于添加，遍历更费时；

----

### 解法二：二进制转格雷码

如果有一个二进制数序列，也可以将它直接转换成格雷码序列。

假设 `n` 位二进制数为 `b`，对应的格雷码为 `g`，转换规则如下：
$$
\begin{align}
&g(i) = b(i) \oplus b(i+1) \ \ 0≤i＜n
\end{align}
$$

```java
class Solution {
    public List<Integer> grayCode(int n) {
        List<Integer> ans = new ArrayList<Integer>();
        for (int i = 0; i < 1 << n; i++) {
            ans.add((i >> 1) ^ i);
        }
        return ans;
    }
}
```

$$
\begin{align}
&时间复杂度:O(2^n)
&空间复杂度:O(1)
\end{align}
$$

